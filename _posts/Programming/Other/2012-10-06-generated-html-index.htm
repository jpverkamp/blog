title: Generated HTML index
date: 2012-10-06T14:00:12
slug: generated-html-index
layout: post
categories:
- Programming/By Language/HTML
- Programming/By Language/Python
- Programming/By Topic/Web Development
- Programming/Libraries
comments: true

---
A simple script today to generate an HTML index listing all of the files in a given directory. This has come in handy in the past when Apache has had `Options -Indexes` set (disabling their automatically generated indexes) and I didn't have the permissions to override it.

<!--more-->

If you want to follow along, you can get the full source code <a href='https://github.com/jpverkamp/small-projects/blob/master/blog/html-index.py'>here</a>.

Easy enough to use, first here's the usage (which you can also get with `html-index help`):

@codeblock["bash"]|{
Usage: html-index [short|long|force|all]
  force - overwrite old index.htm without asking
  help - display this message and exit
  long (default) - links <li><a ...>...</a>
  short - links use [<a ...>...</a>
  all - display dot files
}|

A little more specifically, the file will generate an `index.htm` file in the same directory as which it is run with a link to all of the files / subdirectories. If `index.htm` already exists, it will ask the user to confirm (unless `force` is set). Similar to the `-a` option to `ls`, `all` will show all files, including those otherwise hidden files starting with dots.

The other two options, `short` and `long` control the output format:

<hr />

<h3>Short</h3>
@codeblock["html"]|{
<ul>
<li><a href="bar.txt">bar.txt</a></li>
<li><a href="baz.txt">baz.txt</a></li>
<li><a href="foo.txt">foo.txt</a></li>
</ul>
}|

<ul>
<li><a href="bar.txt">bar.txt</a></li>
<li><a href="baz.txt">baz.txt</a></li>
<li><a href="foo.txt">foo.txt</a></li>
</ul>

<hr />

<h3>Long</h3>
@codeblock["html"]|{
[<a href="bar.txt">bar.txt</a>]
[<a href="baz.txt">baz.txt</a>]
[<a href="foo.txt">foo.txt</a>]
}|

[<a href="bar.txt">bar.txt</a>] [<a href="baz.txt">baz.txt</a>] [<a href="foo.txt">foo.txt</a>]

<hr />

And that's it. Nice and simple. You can get the full source code <a href='https://github.com/jpverkamp/small-projects/blob/master/blog/html-index.py'>here</a>.

If you find this helpful, be sure to let me know in the comments below. :)
